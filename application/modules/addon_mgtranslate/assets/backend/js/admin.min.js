$uifm(document).ready(function(a){zgfm_back_mgtranslate.initialize()}),"undefined"==typeof $uifm&&($uifm=jQuery);var zgfm_back_mgtranslate=zgfm_back_mgtranslate||null;$uifm.isFunction(zgfm_back_mgtranslate)||function(a,t){"use strict";var n=function(){var n=[];n.innerVars={},n.externalVars={};var e=this;this.page_fillEmptySpaces=function(){a("textarea").each(function(t,n){let e=a(this),l=e.val();if(0===parseInt(l.length)){let a=e.parent().prev().html();e.val(a),e.addClass("setChange")}})},this.initialize=function(){e.ajaxCallLoadTranslation(),a("#zgfm-page-translation select").on("change",function(){e.ajaxCallLoadTranslation()}),a("#zgfm-translation-newlang").click(function(n){n.stopPropagation(),n.preventDefault(),a.ajax({type:"POST",url:rockfm_vars.uifm_siteurl+"addon_mgtranslate/zfaddn_mgtranslate_back/ajax_new_lang",data:{action:"zgfm_mgtranslate_newlang",page:"zgfm_form_builder",zgfm_security:uiform_vars.ajax_nonce},dataType:"json",encode:!0,beforeSend:function(){a("#uifm_modal_msg .sfdc-modal-body").html(' <i class="sfdc-glyphicon sfdc-glyphicon-refresh gly-spin"></i>')}}).done(function(n){n.success&&(a("#uifm_modal_msg").sfdc_modal({show:!0,backdrop:"static",keyboard:!1}),a("#uifm_modal_msg .sfdc-modal-title").html(n.data.html_title),a("#uifm_modal_msg .sfdc-modal-body").html(n.data.html),a("#uifm_modal_msg .sfdc-modal-footer").html(n.data.html_buttons),a("#zgfm-mgtranslation-btn-createNewLang").click(function(n){n.stopPropagation(),n.preventDefault();let e=a("#inputNewLang").val();0!==parseInt(e.length)?a.ajax({type:"POST",url:rockfm_vars.uifm_siteurl+"addon_mgtranslate/zfaddn_mgtranslate_back/ajax_create_lang",data:{action:"zgfm_mgtranslate_createlang",page:"zgfm_form_builder",zgfm_security:uiform_vars.ajax_nonce,newlangname:e},dataType:"json",encode:!0,beforeSend:function(){a("#uifm_modal_msg .sfdc-modal-body").html(' <i class="sfdc-glyphicon sfdc-glyphicon-refresh gly-spin"></i>'),a("#uifm_modal_msg .sfdc-modal-footer").html("")},success:function(n){a("#uifm_modal_msg .sfdc-modal-title").html(n.data.html_title),a("#uifm_modal_msg .sfdc-modal-body").html(n.data.html),a("#uifm_modal_msg .sfdc-modal-footer").html(n.data.html_footer),a("#uifm_modal_msg").on("hide.bs.sfdc-modal",function(){var a=rockfm_vars.uifm_siteurl+"addon_mgtranslate/zfaddn_mgtranslate_back/show_list";var n;n=a,t.event?(t.event.returnValue=!1,t.location=n):location.href=n})}}):alert("Add the language name")}))})}),a("#zgfm-translation-save").click(function(t){t.stopPropagation(),t.preventDefault();var n=a(".setChange").serializeArray();if(0===parseInt(n.length))return a("#uifm_modal_msg").sfdc_modal("show"),a("#uifm_modal_msg .sfdc-modal-title").html("Translation Manager"),void a("#uifm_modal_msg .sfdc-modal-body").html("there is nothing to save");a.ajax({type:"POST",url:rockfm_vars.uifm_siteurl+"addon_mgtranslate/zfaddn_mgtranslate_back/ajax_save_pofile",data:a.param(n)+"&action=zgfm_mgtranslate_savePo&page=zgfm_form_builder&zgfm_security="+uiform_vars.ajax_nonce+"&lang="+a("#mgtr-input-lang").val()+"&side="+a("#mgtr-input-side").val(),dataType:"json",encode:!0,beforeSend:function(){a("#zgfm-translation-save").prop("disabled",!0),a("#uifm_modal_msg .sfdc-modal-body").html(' <i class="sfdc-glyphicon sfdc-glyphicon-refresh gly-spin"></i>')}}).done(function(t){t.success?(a("#uifm_modal_msg").sfdc_modal("show"),a("#uifm_modal_msg .sfdc-modal-title").html(t.data.html_title),a("#uifm_modal_msg .sfdc-modal-body").html(t.data.html),a("#zgfm-translation-save").prop("disabled",!1)):alert("Error! something went wrong")})})};const l=function(t){let n="";n=t.success?t.data.content:'\n\t\t\t\t\t<div  class="alert alert-info alert-dismissible " role="alert">\n\t\t\t\t\t<strong>Select a language option in order to load the translations.</strong>\n\t\t\t\t  </div>\n\t\t\t\t\t',a("#zgfmLanguageContent").html(n),a("#zgfm-page-translation textarea").on("focus",function(){a(this).addClass("setChange")})};this.ajaxCallLoadTranslation=function(){a.ajax({type:"POST",dataType:"json",url:rockfm_vars.uifm_siteurl+"addon_mgtranslate/zfaddn_mgtranslate_back/ajax_load_pofile",data:{action:"zgfm_mgtranslate_loadPo",page:"zgfm_form_builder",zgfm_security:uiform_vars.ajax_nonce,lang:a("#mgtr-input-lang").val(),side:a("#mgtr-input-side").val()},beforeSend:function(){let t=`<img src="${rockfm_vars.uifm_baseurl}/assets/backend/image/ajax-loader-black.gif">`;a("#zgfmLanguageContent").html(t)},success:l})},this.upgrade_prev_3_4_1=function(){}};t.zgfm_back_mgtranslate=n=a.zgfm_back_mgtranslate=new n}($uifm,window);